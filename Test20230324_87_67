package Test;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.Properties;

/**
 * Properties:
 * properties可以用来做配置文件
 * Javaweb、javaee开发中通常会用到
 *
 * ResouceBundle 只读
 * Properties 可读可写
 * @author yangzixi
 *
 */
public class Test67_Properties {

    public static String version = "";
    public static String username = "";
    public static String password = "";

    //静态代码块，只执行一次
//	static {
//		//readConfig();
//	}

    /**
     * 对属性文件的写入操作
     * @param version
     * @param username
     * @param password
     */
    private static void writeConfig(String version,String username,String password) {
        Properties p = new Properties();
        p.put("app.version", version);
        p.put("db.username", username);
        p.put("db.password", password);
        try {
            OutputStream out = new FileOutputStream("config2.properties");
            //写文件
            p.store(out, "update config");
            out.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    /**
     * 读取properties配置文件
     */
    private static void readConfig() {
        Properties p = new Properties();

        try {
            InputStream inStream = new FileInputStream("config.properties");
            p.load(inStream);//加载文件

            //从properties中读取数据
            version = p.getProperty("app.version");
            username = p.getProperty("db.username");
            password = p.getProperty("db.password");

            inStream.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

    }
    public static void main(String[] args) {
        writeConfig("2", "vince", "654321");
        readConfig();
        System.out.println(Test67_Properties.version);
        System.out.println(Test67_Properties.username);
        System.out.println(Test67_Properties.password);


    }

}
